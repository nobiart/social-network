import{j as a,N as n,F as g,a as d,b as l,c as m,d as r,s as c}from"./index-DsrFnNDg.js";import{w as x}from"./WithAuthRedirect-CSWv2hH6.js";const j="_dialogsContainer_1jb89_1",_="_dialogs_1jb89_1",u="_activeDialog_1jb89_11",h="_messages_1jb89_15",i={dialogsContainer:j,dialogs:_,activeDialog:u,messages:h},b="_dialog_1i80y_1",p={dialog:b},v=({name:e,id:s})=>a.jsx("div",{className:p.dialog,children:a.jsx(n,{to:`/dialogs/${s}`,children:e})}),C="_message_1vtqz_1",D={message:C},N=({text:e})=>a.jsx("div",{className:D.message,children:e}),T=e=>a.jsx(g,{initialValues:{messageText:""},onSubmit:(s,{setSubmitting:o})=>{console.log(s),e.onSubmit(s.messageText),o(!1),s.messageText=""},children:({values:s,handleSubmit:o,handleChange:t})=>a.jsxs(d,{onSubmit:o,children:[a.jsx("div",{children:a.jsx(l,{type:"textarea",name:"messageText",value:s.messageText,onChange:t,placeholder:"Enter your message"})}),a.jsx("button",{type:"submit",children:"Send"})]})}),S=e=>a.jsxs("div",{className:i.dialogsContainer,children:[a.jsx("div",{className:i.dialogs,children:e.dialogs.map(s=>a.jsx(v,{id:s.id,name:s.name},s.name))}),a.jsxs("div",{className:i.messages,children:[e.messages.map(s=>a.jsx(N,{id:s.id,text:s.text},s.id)),a.jsx(T,{onSubmit:e.sendMessage})]})]}),F=e=>({dialogs:e.dialogsPage.dialogs,messages:e.dialogsPage.messages}),M=e=>({sendMessage:s=>{e(c(s))}}),P=m(r(F,M),x)(S);export{P as DialogsContainer};
